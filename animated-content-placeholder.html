<link rel="import" href="../polymer/polymer-element.html">

<!--
Animated content placeholder used when loading elements in a page.
Inspired by the content placeholder used by e.g. Slack, Facebook.

### Example

```html
<animated-content-placeholder>
       <div class="background-masker header-left"></div>
       <div class="background-masker header-right"></div>
</animated-content-placeholder>
```

### Styling
The following custom properties and mixins are available for styling:
Custom property               | Description                                                                   | Default
------------------------------|-------------------------------------------------------------------------------|----------
`--animation-duration`        | Duration of the animation loop                                                | 1s
`--animation-height`          | Height of the animated background                                             |
`--background-color`          | Fixed background color that is shown if the browser doesn't support gradients | 
`--background-color-gradient` | Animated gradient behind the maskers                                          | #f6f7f8

@demo demo/index.html
-->

<dom-module id="animated-content-placeholder">
	<template>
		<style>
			:host {
				display: block;
			}

			.item {
				background: var(--item-background);
				min-height: var(--animation-height);
			}

			@keyframes placeHolderShimmer{
				  0% { background-position: -468px 0 }
				100% { background-position: +468px 0 }
			}
			.animated-background {
				top: var(--top-distance, 0);
				height: var(--animation-height);
				animation-duration: var(--animation-duration, 1s);
				animation-fill-mode: forwards;
				animation-iteration-count: infinite;
				animation-name: placeHolderShimmer;
				animation-timing-function: linear;
				background: var(--background-color, #f6f7f8);
				background: var(--background-color-gradient, linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%));
				background-size: 800px 100px;
				position: relative;
			}
		</style>

		<div class="item">
			<div class="animated-background">
				<slot></slot>
			</div>
		</div>

	</template>

	<script>
		/**
		* `animated-content-placeholder`
		* Animated placeholder used while loading elements on the page
		*
		* @customElement
		* @polymer
		* @demo demo/index.html
		*/
		class AnimatedContentPlaceholder extends Polymer.Element {
			static get is() { return 'animated-content-placeholder'; }
		}

		customElements.define(AnimatedContentPlaceholder.is, AnimatedContentPlaceholder);
	</script>
</dom-module>
